<div class="card my-3">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <h5 class="card-title">Comptes</h5>
      <p class="card-text">dashboard > Compte</p>
    </div>
    <p-button label="Ajoute Compte" (click)="showDialog()"  severity="warning" icon="pi pi-plus" size="small"></p-button>
  </div>
</div>


<p-table [value]="items"  [tableStyle]="{'min-width': '1rem'}">
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="id" >id<p-sortIcon field="id"></p-sortIcon></th>
      <th pSortableColumn="username" >nom d'utilisateur<p-sortIcon field="username"></p-sortIcon></th>
      <th pSortableColumn="email" >email<p-sortIcon field="email"></p-sortIcon></th>
      <th pSortableColumn="roles" >roles<p-sortIcon field="roles"></p-sortIcon></th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
    <tr>
      <td>{{item.id}}</td>
      <td>{{item.username}}</td>
      <td>{{item.email}}</td>


      <td>

        @for (element of item.roles; track element; let i = $index){

          <span [ngStyle]="{'color': getColor(element.name), 'border-color': getColor(element.name)}" class="role-span">{{ element.name }}</span>
        }

      </td>
    </tr>
  </ng-template>
</p-table>
<app-user-create></app-user-create>
